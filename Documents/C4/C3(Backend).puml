@startuml
!include <C4/C4_Component>

Container_Boundary(backend, "Backend API") {
    Component(authService, "Authentication Service", "Spring Security", "Validates login credentials and JWTs.")
    Component(userService, "User Service", "Spring Boot", "Manages user profiles and CRUD operations.")
    Component(postService, "Post Service", "Spring Boot", "Handles posts CRUD operations.")
    Component(webSocketService, "WebSocket Service", "Spring Boot", "Manages live chat sessions.")
    Component(dbAccess, "Database Access Layer", "JPA/Hibernate", "Handles all database interactions.")
}

ContainerDb(database, "Database", "MySQL", "Stores all application data.")

' Relationships
authService -down-> dbAccess : "Validates users"
userService -down-> dbAccess : "Fetches and updates user data"
postService -down-> dbAccess : "Stores and retrieves posts"
webSocketService -down-> dbAccess : "Logs chat history"
dbAccess -down-> database : "Performs SQL queries"
@enduml
